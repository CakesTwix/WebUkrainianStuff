<Banner
  text="Home Assistant"
  image="/pages/selfhost/ha.png"
  blur="5px"
/>

::: info
Материал був взятий з [статті на DOU](https://dou.ua/forums/topic/38947/) від користувача Богдан Свердлюк.
Материал у подальношму буде змінений.
:::

::: warning
Це не є гайдом як встановлювати, це є кратким описом що є HA, більш детально почитати цю тему раджу перейти на статтю на DOU.
:::

# Home Assistant - Ваш Розумний будинок

Home Assistant — це універсальна вільна ~~операційна система~~ для керування пристроями інтернету речей різних виробників, а також їхньої автоматизації. Це локальне рішення, що не залежить від хмари чи наявності інтернету, та підтримує велику кількість протоколів: Wi-Fi, Zigbee, Z-wave, Bluetooth, Bluetooth-mesh, IR etc.

::: info
Це не операційна система, це ПЗ, написаний на Python й є кроссплатформеним, але краще всього працює на лінуксі, авжеж
:::

## Куди встановлювати

Якщо я вас зацікавив і виникає питання, як і куди встановити Home Assistant, то найпопулярніший варіант — це використання одноплатних комп’ютерів, таких як Raspberry pi 3/4, Odroid N2+, Asus Tinkerboard S, Intel NUC, Orange Pi Zero. Також можна встановити на NAS від Synology та QNAP, на міні ПК на кшталт Lenovo Thinkcentre. Детальніше про вибір апаратного забезпечення в окремій статті

## Як встановлювати

У цьому випадку, я раджу унікати більш прості на перший погляд системи як наприклад Home Assistant OS, вони створені бути простіми та щоб користувач нічого не поломав, АЛЕ! Коли щось не працює то просто так його вже не полагодиш, на жаль
Для встановлення на систему раджу на Docker.


``` docker
services:
  homeassistant:
    image: "ghcr.io/home-assistant/home-assistant:stable"
    container_name: homeassistant
    privileged: true
    network_mode: host
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/Kiyv
    # Для Bluetooth
    cap_add:
      - NET_ADMIN
      - NET_RAW
    volumes:
      - /var/run/dbus:/var/run/dbus:z # Bluetooth
      - .config:/config:z
    ports:
      - 8123:8123 #optional
    #devices:
    #  - /dev/ttyUSB0:/dev/ttyUSB0 # Якщо будете мати Zigbee USB
    #  - /path/to/device:/path/to/device #optional
    restart: unless-stopped
```

::: warning
Не використовуйте образ докеру від linuxserver якщо ви маєте Bluetooth, він там не буде працювати 
:::

## Перше налаштування

Після встановлення ОС потрібно підключити ПК по кабелю (рекомендований варіант), або по wifi до мережі. Після того в браузері комп’ютера, підключеного до тієї ж мережі, введіть: http://homeassistant.local:8123

Для пошуку виданої адреси використайте додаток Network Scanner, або зайдіть адресу в адмін панелі роутера. До прикладу: 192.168.1.106:8123

Коли відкриєте вебінтерфейс, Home Assistant попросить вас почекати близько 20 хвилин та дозволить створити логін та пароль користувача.

::: tip
На роутері прив’яжіть МАС-комп’ютер до виділеного IP. Це дозволить мати постійну адресу home assistant.
:::

### Картки

Існує приблизно 30 типів карток під різні потреби. Наприклад, кнопка, панель сигналізації, шкала, графік, освітлення та інші. Також HA надає можливість створювати або використовувати чужі користувацькі картки. Наприклад, mini-graph-card, mushroom та багато інших Усі вони доступні в HACS.

### Теми

Дозволяють змінити кольорове оформлення, шрифти та колір іконок HA. Їх можна встановити вручну, але набагато зручніше це робити через HACS. Наприклад, Noctis, Dark teal. Теми можна знайти в пункті профіль бічної панелі. Якщо у вас недоступний список вибору тем, додайте до configuration.yaml

``` yaml
frontend:
  themes: !include_dir_merge_named themes
```

Якщо ви хочете Material Design 3 то він є - [HA Forum](https://community.home-assistant.io/t/material-you-theme-a-fully-featured-implementation-of-material-design-3-for-home-assistant/623242)

<img src="https://community-assets.home-assistant.io/optimized/4X/3/b/6/3b647c4efcb4b1a21248be7e27aa0432a1082f28_2_690x350.jpeg">

### Додатки та інтеграції

Додатки (доповнення) — це додаткове ПЗ, що поширюється як налаштовані докер-контейнери. Home Assistant має офіційні додатки, що підтримуються його командою (official add-ons), а також додатки спільноти (community add-ons), які за замовчуванням також присутні в магазині.

::: info
Доповненень немає, якщо ви встановили HA через Docker, але не проблема т.я вони встановлюються усе одно через докер
:::

Додатки можна встановити через Конфігурація >> Додатки >> Магазин доповнень.
Ті додатки, що не входять до однієї з категорій, розповсюджуються окремо у вигляді репозиторіїв. Щоб встановити такі додатки, необхідно скористатись меню магазину (зверху справа).

Інтеграції, на перший погляд, схожі на додатки. Їх робота — взаємодія з фізичними пристроями та підключення додатків до Home Assistant.

Інтеграції бувають офіційними або користувацькими (неофіційними). Якщо інтеграції офіційні, їх можливо встановити через Конфігурація > Пристрої та сервіси >> додати інтеграцію.

Якщо інтеграції користувацькі, вони встановлюються з репозиторію GitHub або через HACS, який є зручною «вітриною» (графічним інтерфейсом) для користувацьких інтеграцій, карток Lovelace тощо.



# TV-Box як альтернатива Raspberry Pi

Мій перший досвід з Linux був саме з тв приставкою X96 Mini, без апаратного прискорення, WiFi, тощо, але - командна рядок був щось таким-таким.... прекрасним, особливо оновлення системи та застосунків, набагато зручніший аніж у Windows. Зараз ця ж сама приставка використовується як сервер розумного будинку

::: info
Бажання зробити з приставки сервер був положений від [відео автора ctrlD](https://invd.cakestwix.com/watch?v=c3UK-0nvVho) [(YouTube)](https://www.youtube.com/watch?v=c3UK-0nvVho) [(Текстова версія)](https://so1der.github.io/articles/s905-server.html#s905-server).
:::

## Яку приставку вибрати для цього?

Можна авжеж шукати конкретну модель, або чи підтримується ли вона Armbian/Debian/Arch Linux ARM/тощо, але ось основні признаки що вона може запустити Лінукс
1. Процесор Amlogic S905 (Можуть бути й інші, але цей багато де є)
1. Кнопка на платі, яку можна нажати чимось через AV вихід (Саме через цю кнопку приставка грузиться не з EMMC, а з USB)
![AV Button](https://so1der.github.io/images/s905-server/button2.jpg)
1. Гугл у допомогу :)

В моєму випадку це x96 mini на базі S905W (існують на різних процесорах, тому бажано переспрашувати), він гарно підтримується Armbian, але нема Wifi(((

## Debian on Amlogic

::: info Посилання на проект
https://github.com/devmfc/debian-on-amlogic
:::
На армбіані були проблеми при встановленні на emmc пам'ять, тому знайшов інший проект для цього діла, база та ж сама, тобто Debian.

На цій системі я спокійно зміг встановити на emmc, що прискорило завантаження ОС у 4-5 разів!!! Та нагадаю, що SD-Card не любить коли на неї встановлюють ОС, якщо там ще своп є то це death.

У Readme.md цього проекту можна дізнатися які саме твбоксі тестувалися та які проблеми є(в моєму випадку WiFI).

Беремо з релізів образ системи на через утиліту dd на флешку

На розділі boot є файл boot.config, там буде багато box=*, прибираємо # на своїй приставці та зберігаємо.

### Встановлення на emmc-пам'ять

Після того, як ви запустилися, у домашній директорії буде декілька скриптів, нам потрібні тільки два.

::: tip aml-multiboot-setup.sh
Зробить так, щоб стоковий завантажувач запускав спершу з USB систему, хз нащо, але без цього другий скрипт не буде пропускати далі
:::

::: tip aml-install-to-emmc.sh
Потрібний нам скрипт для встановлення на пам'ять самої приставки, швидкість та стабильність буде набагато краще
:::

![fastfetch](/pages/hardware/fastfetch.png)

## Окей, а нащо?

Особисто я захотів по-перше, оновити твбокс батькам та вимкнути 2.4G WiFi, по-друге, нарешті з досвідом з лінуксом знову потрогати цей прекрасний лінукс на твбоксі, на якому вперше спробував цю прекрасну ОС, ой, тобто цей во, ядро, так.

Поставив на цю систему docker та Home Assistant з Zigbee2MQTT. Чому б не залишити на великому сервері? Він зараз не у моїй комнаті де є розумні пристрої й треба якось прокладати мережу зігбі до мене, що буде напевно дорого, ось тому взяв дешевий твбокс котрий живиться з USB 5V та mini-UPS.

::: tip Встановлення HA
Пересказувати як встановлював HA не буду т.я є оф підтримка aarch64 та просто скопіював docker-compose.yml з конфігами.

[Посилання на пост](/pages/selfhost/homeassistant)
:::